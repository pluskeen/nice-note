| 栈内存     | 堆内存            |
| ---------- | ----------------- |
| 存储基础数据类型  | 存储引用数据类型 |
| 按值访问  | 按引用访问 |
| 存储的值大小固定  | 存储的值大小不定，可动态调整 |
| 由系统自动分配内存空间  | 由代码进行指定分配 |
| 空间小，运行效率高  | 空间大，运行效率相对较低 |
| 先进后出，后进先出  | 无序存储，可根据引用直接获取 |

#### 变量的存放

- 基本数据类型保存在栈内存，该内存与执行上下文绑定，出栈后自动销毁
	基本数据类型6种：`Undefined`、`Boolean`、`Number`、`String`、`Symbol`，由于他们在内存中分别占有固定大小的空间，通过按值来访问。
	
- 引用数据类型保存在堆内存，无法直接赋值给变量，变量的赋值操作，只能引用其内存地址。
	引用数据类型：也就是 `Object` 对象，它的存储分为访问地址和实际存放的地方。访问地址是存储在栈中的，当查询引用类型变量的时候，会先从栈中读取内存地址（也就是访问地址）, 然后再通过地址找到堆中的值。因此，这种我们也把它叫为引用访问。

在计算机的数据结构中，栈比堆的运算速度快。`Object` 是一个复杂的、可扩展的结构，还可以增删改查。将它们放在堆中是为了不影响栈的效率。通过引用的方式查找到堆中的实际对象再进行操作。所以查找引用类型值的时候先去**栈**查找再去**堆**查找。


#### 释放内存空间

`null` 是特殊的引用数据类型，指向空地址。

```js
let a = 1 // 在内存中给数值变量分配空间
a = null // 使用完后, 释放内存空间
```

`Javascript` 的垃圾回收机制每隔固定的时间段就执行一次释放操作，垃圾收集器会找出不再有引用的值，然后释放其占用的内存。

在自动垃圾收集机制中, 最常用的就是通过**标记清除**的算法来找到那些不再继续使用的对象。

使用 `a = null` 就是做了一个释放引用的操作，让 `a` 原本对应的值失去引用, 脱离执行环境。**这个值就会在当前执行上下文出栈，下一次垃圾收集器执行操作时被找到，并释放.**

但这也只是变量处于局部执行上下文才容易释放，对于全局执行上下文，因为在整个应用的生命周期中从一打开就处于整个执行栈的最底层，所以难以释放。

除了变量全局污染，对于垃圾回收的不利，也是少用全局变量的重要原因。